<Window x:Class="SamFwClone.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="SAMFW TOOL" Height="720" Width="1100"
        Background="#2d323b">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="50"/>     <!-- Header -->
            <RowDefinition Height="*"/>      <!-- Main Content -->
            <RowDefinition Height="40"/>     <!-- Footer -->
        </Grid.RowDefinitions>

        <!-- ========== HEADER ================= -->
        <Border Background="#3c424e" Grid.Row="0" Padding="10,0">
            <DockPanel>
                <TextBlock Text="SAMFW TOOL"
                           Foreground="#d1d5db"
                           FontWeight="Bold"
                           FontSize="18"
                           VerticalAlignment="Center"/>
                <TextBlock Text="Â© SAMFW.COM"
                           Foreground="#9ca3af"
                           HorizontalAlignment="Right"
                           DockPanel.Dock="Right"
                           VerticalAlignment="Center"/>
            </DockPanel>
        </Border>

        <!-- ========== MAIN CONTENT ============= -->
        <Grid Grid.Row="1" Margin="0,10,0,10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="2*"/> <!-- ESQUERDA -->
                <ColumnDefinition Width="*"/>  <!-- DIREITA -->
            </Grid.ColumnDefinitions>

            <!-- LEFT PANEL -->
            <Border Background="#3c424e" Margin="10" CornerRadius="8">

                <DockPanel LastChildFill="True">

                    <!-- TOP BRAND TABS (SAMSUNG, XIAOMI...) -->
                    <StackPanel Orientation="Horizontal"
                                Background="#4a5160"
                                DockPanel.Dock="Top"
                                Height="45"
                                VerticalAlignment="Center">
                        
                        <!-- auto-gerado via ItemsControl -->
                        <ItemsControl ItemsSource="{Binding Brands}">
                            <ItemsControl.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <StackPanel Orientation="Horizontal"/>
                                </ItemsPanelTemplate>
                            </ItemsControl.ItemsPanel>

                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <RadioButton Content="{Binding Name}"
                                                 Style="{StaticResource BrandTab}"
                                                 IsChecked="{Binding IsSelected, Mode=TwoWay}"/>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </StackPanel>

                    <!-- SECOND SUB-TABS -->
                    <StackPanel Background="#4a5160"
                                Height="40"
                                DockPanel.Dock="Top">
                        <ItemsControl ItemsSource="{Binding SelectedBrand.SubTabs}">
                            <ItemsControl.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <StackPanel Orientation="Horizontal"/>
                                </ItemsPanelTemplate>
                            </ItemsControl.ItemsPanel>

                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <RadioButton Content="{Binding}"
                                                 Style="{StaticResource SubTab}"
                                                 IsChecked="{Binding RelativeSource={RelativeSource AncestorType=ContentPresenter}, Path=Content.DataContext.SelectedSubTab, Converter={StaticResource SubTabConverter}, ConverterParameter={Binding}}"/>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </StackPanel>

                    <!-- ACTION PANEL -->
                    <ContentControl Content="{Binding CurrentView}" Margin="10"/>
                </DockPanel>

            </Border>

            <!-- RIGHT PANEL (LOG) -->
            <Border Grid.Column="1" Background="#3c424e" Margin="10" CornerRadius="8">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="50"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="50"/>
                    </Grid.RowDefinitions>

                    <!-- Top controls -->
                    <StackPanel Orientation="Horizontal" Margin="10" Grid.Row="0">
                        <ComboBox Width="150"
                                  ItemsSource="{Binding Versions}"
                                  SelectedItem="{Binding SelectedVersion}"/>
                        <Button Content="Info" Style="{StaticResource TopButton}" Margin="10,0"/>
                        <Button Content="Reboot" Style="{StaticResource TopButton}"/>
                    </StackPanel>

                    <!-- Log viewer -->
                    <RichTextBox Grid.Row="1"
                                 Margin="10"
                                 Background="#1f2937"
                                 Foreground="#d1d5db"
                                 FontFamily="Consolas"
                                 IsReadOnly="True"/>

                    <!-- STOP button -->
                    <Button Grid.Row="2"
                            HorizontalAlignment="Right"
                            Margin="10"
                            Content="STOP"
                            Style="{StaticResource StopButton}"/>
                </Grid>
            </Border>
        </Grid>

        <!-- ========== FOOTER ================= -->
        <Border Grid.Row="2" Background="#3c424e">
            <DockPanel Margin="10">

                <StackPanel Orientation="Horizontal" DockPanel.Dock="Left">
                    <Button Content="Samsung firmware" Style="{StaticResource FooterButton}"/>
                    <Button Content="Telegram group" Style="{StaticResource FooterButton}" Margin="10,0"/>
                </StackPanel>

                <StackPanel Orientation="Horizontal" DockPanel.Dock="Right">
                    <Button Content="Config" Style="{StaticResource FooterButton}" Margin="0,0,10,0"/>
                    <Button Content="Account" Style="{StaticResource FooterButton}"/>
                </StackPanel>

            </DockPanel>
        </Border>

    </Grid>
</Window>
